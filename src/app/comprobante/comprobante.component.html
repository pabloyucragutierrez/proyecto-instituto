<app-header></app-header>
<section class="section section__payment">
  <div class="container">
    <div class="stepper">
      <div class="step active">
        <div class="step-icon">
          <i class='bx bx-user'></i>
        </div>
        <p>Datos del Usuario</p>
      </div>
      <div class="step active">
        <div class="step-icon">
          <i class='bx bx-receipt'></i>
        </div>
        <p>Comprobante</p>
      </div>
      <div class="step">
        <div class="step-icon">
          <i class='bx bx-package'></i>
        </div>
        <p>Tipo de Entrega</p>
      </div>
      <div class="step">
        <div class="step-icon">
          <i class='bx bx-credit-card'></i>
        </div>
        <p>Pago</p>
      </div>
      <div class="progress-bar">
        <div class="progress" style="width: 35%;"></div>
      </div>
    </div>

    <div class="payment-layout">
      <div class="form-container">
        <form [formGroup]="comprobanteForm" (ngSubmit)="onSubmit()">
          <div class="form-row">
            <div class="form-group half-width">
              <label for="tipoDocumento">Tipo de Documento</label>
              <select id="tipoDocumento" formControlName="tipoDocumento">
                <option value="boleta">Boleta</option>
                <option value="factura">Factura</option>
              </select>
              <div *ngIf="comprobanteForm.get('tipoDocumento')?.invalid && comprobanteForm.get('tipoDocumento')?.touched">
                <small class="error-text">Este campo es obligatorio</small>
              </div>
            </div>

            <div class="form-group half-width">
              <label for="numeroDocumento">DNI/RUC</label>
              <input type="text" id="numeroDocumento" formControlName="numeroDocumento" placeholder="12345678" />
              <div *ngIf="comprobanteForm.get('numeroDocumento')?.invalid && comprobanteForm.get('numeroDocumento')?.touched">
                <small class="error-text">Este campo es obligatorio y debe tener al menos 8 caracteres</small>
              </div>
            </div>
          </div>

          <div class="btn__form">
            <a routerLink="/datos-del-usuario" class="btn btn-comprar">Regresar</a>
            <button type="submit" class="btn btn-comprar">Continuar</button>
          </div>
        </form>
      </div>

      <div class="summary-container">
        <h3>Resumen de tu Pedido</h3>

        <div class="product-card">
          <div class="product-details">
            <p class="product-name"><strong>Foco led Philips</strong></p>
            <p class="product-price">S/ 12.00</p>
          </div>
        </div>

        <div class="product-card">
          <div class="product-details">
            <p class="product-name"><strong>Ganchos de pared</strong></p>
            <p class="product-price">S/ 3.00</p>
          </div>
        </div>

        <div class="product-card">
          <div class="product-details">
            <p class="product-name"><strong>USB de 32 GB Kingston</strong></p>
            <p class="product-price">S/ 12.00</p>
          </div>
        </div>

        <!-- Total -->
        <div class="total-summary">
          <p class="total-label"><strong>Total:</strong></p>
          <p class="total-amount"><strong>S/ 27.00</strong></p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Modal de error -->
<div *ngIf="showErrorModal" class="modal">
  <div class="modal-content">
    <span class="close" (click)="closeModal()">
      <i class='bx bx-x'></i>
    </span>
    <h2>Error</h2>
    <p>Por favor, completa todos los campos requeridos antes de continuar.</p>
  </div>
</div>

<app-footer></app-footer>
